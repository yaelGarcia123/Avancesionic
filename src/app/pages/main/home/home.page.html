<app-header title="Home"></app-header>

<ion-content>
  <div class="main-content">
    
    <!-- Show loading while places are being loaded -->
    <div *ngIf="!places" class="loading">
      <ion-spinner></ion-spinner>
      <p>Loading places...</p>
    </div>

    <!-- Show message if there are no houses -->
    <div *ngIf="places && places.length === 0" class="empty-state">
      <ion-icon name="home-outline" size="large"></ion-icon>
      <h3>You have no registered houses</h3>
      <p>Contact technical support</p>
      <ion-button routerLink="/add-place">
        Help
      </ion-button>
    </div>

    <!-- List of houses -->
    <div *ngIf="places && places.length > 0">
      <h2>My Houses</h2>
      
      <ion-list>
        <ion-item *ngFor="let place of places" [routerLink]="['/place-detail', place.id]">
          <ion-icon name="home" slot="start"></ion-icon>
          <ion-label>
            <h3>{{ place.number }}</h3>
            <p>Owner: {{ place.user?.name }}</p>
          </ion-label>
          <!-- Badge for active house -->
          <ion-badge *ngIf="place.active" slot="end" color="success">
            Active
          </ion-badge>
          <!-- Badge for inactive house -->
          <ion-badge *ngIf="!place.active" slot="end" color="danger">
            Inactive
          </ion-badge>
        </ion-item>
      </ion-list>
    </div>

  </div>
</ion-content>
